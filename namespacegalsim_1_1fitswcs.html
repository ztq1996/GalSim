<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GalSim: galsim.fitswcs Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1fitswcs.html">fitswcs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">galsim.fitswcs Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1fitswcs_1_1_astropy_w_c_s.html">AstropyWCS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">We have the following WCS classes that know how to read the WCS from a FITS file:  <a href="classgalsim_1_1fitswcs_1_1_astropy_w_c_s.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1fitswcs_1_1_g_s_fits_w_c_s.html">GSFitsWCS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This WCS uses a GalSim implementation to read a WCS from a FITS file.  <a href="classgalsim_1_1fitswcs_1_1_g_s_fits_w_c_s.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1fitswcs_1_1_py_ast_w_c_s.html">PyAstWCS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This WCS uses PyAst (the python front end for the Starlink AST code) to read WCS information from a FITS file.  <a href="classgalsim_1_1fitswcs_1_1_py_ast_w_c_s.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1fitswcs_1_1_wcs_tools_w_c_s.html">WcsToolsWCS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This WCS uses wcstools executables to perform the appropriate WCS transformations for a given FITS file.  <a href="classgalsim_1_1fitswcs_1_1_wcs_tools_w_c_s.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a264b5cb8bcb86647521a97f53cfb8c94"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1fitswcs.html#a264b5cb8bcb86647521a97f53cfb8c94">TanWCS</a></td></tr>
<tr class="memdesc:a264b5cb8bcb86647521a97f53cfb8c94"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a function that returns a <a class="el" href="classgalsim_1_1fitswcs_1_1_g_s_fits_w_c_s.html" title="This WCS uses a GalSim implementation to read a WCS from a FITS file. ">GSFitsWCS</a> object for a TAN WCS projection.  <a href="#a264b5cb8bcb86647521a97f53cfb8c94">More...</a><br/></td></tr>
<tr class="separator:a264b5cb8bcb86647521a97f53cfb8c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc43fc0b7458335cdec591d35d5e7f80"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1fitswcs.html#adc43fc0b7458335cdec591d35d5e7f80">FitsWCS</a></td></tr>
<tr class="memdesc:adc43fc0b7458335cdec591d35d5e7f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">This factory function will try to read the WCS from a FITS file and return a WCS that will work.  <a href="#adc43fc0b7458335cdec591d35d5e7f80">More...</a><br/></td></tr>
<tr class="separator:adc43fc0b7458335cdec591d35d5e7f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1118c81c9e09b9000f8663157dc171a6"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1fitswcs.html#a1118c81c9e09b9000f8663157dc171a6">fits_wcs_types</a></td></tr>
<tr class="separator:a1118c81c9e09b9000f8663157dc171a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adc43fc0b7458335cdec591d35d5e7f80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.fitswcs.FitsWCS </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hdu</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>header</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compression</em> = <code>'auto'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text_file</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>suppress_warning</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This factory function will try to read the WCS from a FITS file and return a WCS that will work. </p>
<p>It tries a number of different WCS classes until it finds one that succeeds in reading the file.</p>
<p>If none of them work, then the last class it tries, AffineTransform, is guaranteed to succeed, but it will only model the linear portion of the WCS (the CD matrix, CRPIX, and CRVAL), using reasonable defaults if even these are missing. If you think that you have the right software for one of the WCS types, but FitsWCS still defaults to AffineTransform, it may be helpful to update your installation of PyFITS/astropy and the relevant WCS software (if you don't already have the latest version).</p>
<p>Note: The list of classes this function will try may be edited, e.g. by an external module that wants to add an additional WCS type. The list is <code><a class="el" href="namespacegalsim_1_1fitswcs.html#a1118c81c9e09b9000f8663157dc171a6">galsim.fitswcs.fits_wcs_types</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>The FITS file from which to read the WCS information. This is probably the usual parameter to provide. [default: None] </td></tr>
    <tr><td class="paramname">dir</td><td>Optional directory to prepend to <code>file_name</code>. [default: None] </td></tr>
    <tr><td class="paramname">hdu</td><td>Optionally, the number of the HDU to use if reading from a file. The default is to use either the primary or first extension as appropriate for the given compression. (e.g. for rice, the first extension is the one you normally want.) [default: None] </td></tr>
    <tr><td class="paramname">header</td><td>The header of an open pyfits (or astropy.io) hdu. Or, it can be a FitsHeader object. [default: None] </td></tr>
    <tr><td class="paramname">compression</td><td>Which decompression scheme to use (if any). See <a class="el" href="namespacegalsim_1_1fits.html#abbad6f82a80bc74fb22a752af1bbd8e9" title="Now the primary read functions. ">galsim.fits.read()</a> for the available options. [default: 'auto'] </td></tr>
    <tr><td class="paramname">text_file</td><td>Normally a file is taken to be a fits file, but you can also give it a text file with the header information (like the .head file output from SCamp). In this case you should set <code>text_file = True</code> to tell GalSim to parse the file this way. [default: False] </td></tr>
    <tr><td class="paramname">suppress_warning</td><td>Should a warning be emitted if none of the real FITS WCS classes are able to successfully read the file, and we have to reset to an AffineTransform instead? <a href="Note: this is set to True when this function is implicitly called from 
                           one of the galsim.fits.read* functions.">default: False</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a264b5cb8bcb86647521a97f53cfb8c94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.fitswcs.TanWCS </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>affine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>world_origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>units</em> = <code><a class="el" href="namespacegalsim.html#ac3e6f6efd0f7ad138601e798ff3e1790">galsim.arcsec</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a function that returns a <a class="el" href="classgalsim_1_1fitswcs_1_1_g_s_fits_w_c_s.html" title="This WCS uses a GalSim implementation to read a WCS from a FITS file. ">GSFitsWCS</a> object for a TAN WCS projection. </p>
<p>The TAN projection is essentially an affine transformation from image coordinates to Euclidean (u,v) coordinates on a tangent plane, and then a "deprojection" of this plane onto the sphere given a particular RA, Dec for the location of the tangent point. The tangent point will correspond to the location of (u,v) = (0,0) in the intermediate coordinate system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">affine</td><td>An AffineTransform defining the transformation from image coordinates to the coordinates on the tangent plane. </td></tr>
    <tr><td class="paramname">world_origin</td><td>A CelestialCoord defining the location on the sphere where the tangent plane is centered. </td></tr>
    <tr><td class="paramname">units</td><td>The angular units of the (u,v) intermediate coordinate system. [default: <a class="el" href="namespacegalsim.html#ac3e6f6efd0f7ad138601e798ff3e1790" title="constant with units of arcseconds ">galsim.arcsec</a>]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="classgalsim_1_1fitswcs_1_1_g_s_fits_w_c_s.html" title="This WCS uses a GalSim implementation to read a WCS from a FITS file. ">GSFitsWCS</a> describing this WCS. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a1118c81c9e09b9000f8663157dc171a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list galsim.fitswcs.fits_wcs_types</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacegalsim_1_1fitswcs.html">    1</a></span>&#160;= [ </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    GSFitsWCS,      <span class="comment"># This doesn&#39;t work for very many WCS types, but it works for the very common</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                    <span class="comment"># TAN projection, and also TPV, which is used by SCamp.  If it does work, it </span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                    <span class="comment"># is a good choice, since it is easily the fastest of any of these.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    AstropyWCS,     <span class="comment"># This requires `import astropy.wcs` to succeed.  So far, they only handle</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                    <span class="comment"># the standard official WCS types.  So not TPV, for instance.  Also, it is</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                    <span class="comment"># a little faster than PyAst, so we prefer PyAst when it is available.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                    <span class="comment"># (But only because of our fix in the _xy function to not use the astropy</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                    <span class="comment"># version of all_world2pix function!)</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    PyAstWCS,       <span class="comment"># This requires `import starlink.Ast` to succeed.  This handles the largest</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                    <span class="comment"># number of WCS types of any of these.  In fact, it worked for every one</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                    <span class="comment"># we tried in our unit tests (which was not exhaustive).  This is a bit </span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                    <span class="comment"># slower than Astropy, but I think mostly due to their initial reading of </span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                    <span class="comment"># the fits header -- that seems to take a lot of time for some reason.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                    <span class="comment"># Once it is loaded, the actual usage seems to be quite fast.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    WcsToolsWCS,    <span class="comment"># This requires the wcstool command line functions to be installed.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                    <span class="comment"># It is very slow, so it should only be used as a last resort.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;]</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6</small></address>
</body>
</html>
