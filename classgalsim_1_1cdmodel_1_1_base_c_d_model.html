<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GalSim: galsim.cdmodel.BaseCDModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1cdmodel.html">cdmodel</a></li><li class="navelem"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html">BaseCDModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgalsim_1_1cdmodel_1_1_base_c_d_model-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">galsim.cdmodel.BaseCDModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for the most generic, i.e.  
 <a href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for galsim.cdmodel.BaseCDModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgalsim_1_1cdmodel_1_1_base_c_d_model.png" usemap="#galsim.cdmodel.BaseCDModel_map" alt=""/>
  <map id="galsim.cdmodel.BaseCDModel_map" name="galsim.cdmodel.BaseCDModel_map">
<area href="classgalsim_1_1cdmodel_1_1_power_law_c_d.html" title="Class for parametrizing charge deflection coefficient strengths as a power law in distance from affec..." alt="galsim.cdmodel.PowerLawCD" shape="rect" coords="0,112,183,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6b5346eb3f583b680ac8c64efbfd0a01"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#a6b5346eb3f583b680ac8c64efbfd0a01">__init__</a></td></tr>
<tr class="memdesc:a6b5346eb3f583b680ac8c64efbfd0a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a generic CDModel (charge deflection model).  <a href="#a6b5346eb3f583b680ac8c64efbfd0a01">More...</a><br/></td></tr>
<tr class="separator:a6b5346eb3f583b680ac8c64efbfd0a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fe3336328eb1caf76cd37a45f8db63"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#ac5fe3336328eb1caf76cd37a45f8db63">applyForward</a></td></tr>
<tr class="memdesc:ac5fe3336328eb1caf76cd37a45f8db63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the charge deflection model in the forward direction.  <a href="#ac5fe3336328eb1caf76cd37a45f8db63">More...</a><br/></td></tr>
<tr class="separator:ac5fe3336328eb1caf76cd37a45f8db63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983696ce1e877b7d470b13add6f3594e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#a983696ce1e877b7d470b13add6f3594e">applyBackward</a></td></tr>
<tr class="memdesc:a983696ce1e877b7d470b13add6f3594e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the charge deflection model in the backward direction (accurate to linear order).  <a href="#a983696ce1e877b7d470b13add6f3594e">More...</a><br/></td></tr>
<tr class="separator:a983696ce1e877b7d470b13add6f3594e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac22008a43af503ec583c89105469ca1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#ac22008a43af503ec583c89105469ca1c">n</a></td></tr>
<tr class="separator:ac22008a43af503ec583c89105469ca1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a0703f8228156af4f7d60988d43266"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#af1a0703f8228156af4f7d60988d43266">a_l</a></td></tr>
<tr class="separator:af1a0703f8228156af4f7d60988d43266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a1615e6da5c7bdc1ab9e42d430c383"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#af2a1615e6da5c7bdc1ab9e42d430c383">a_r</a></td></tr>
<tr class="separator:af2a1615e6da5c7bdc1ab9e42d430c383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ae951dae9fecbeb5b003ab999010b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#a28ae951dae9fecbeb5b003ab999010b4">a_b</a></td></tr>
<tr class="separator:a28ae951dae9fecbeb5b003ab999010b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e311823223f0df22c21c5280598c2ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1cdmodel_1_1_base_c_d_model.html#a4e311823223f0df22c21c5280598c2ba">a_t</a></td></tr>
<tr class="separator:a4e311823223f0df22c21c5280598c2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for the most generic, i.e. </p>
<p>no with symmetries or distance scaling relationships assumed, pixel boundary charge deflection model (as per Antilogus et al 2014). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6b5346eb3f583b680ac8c64efbfd0a01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.cdmodel.BaseCDModel.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a_l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a_t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a generic CDModel (charge deflection model). </p>
<p>Usually this class will not be instantiated directly, but there is nothing to prevent you from doing so. Each of the input a_l, a_r, a_b &amp; a_t matrices must have the same shape and be odd-dimensioned.</p>
<p>The model implemented here is described in Antilogus et al. (2014). The effective border of a pixel shifts to an extent proportional to the flux in a pixel at separation (dx,dy) and a coefficient a(dx,dy). Contributions of all neighbouring pixels are superposed. Border shifts are calculated for each (l=left, r=right (=positive x), b=bottom, t=top (=pos. y)) border and the resulting change in flux in a pixel is the shift times the mean of its flux and the flux in the pixel on the opposite side of the border (caveat: in Antilogus et al. 2014 the sum is used instead of the mean, making the a(dx,dy) a factor of 2 smaller).</p>
<p>The parameters of the model are the a_l/r/b/t matrices, whose entry at (dy,dx) gives the respective shift coefficient. Note that for a realistic model, the matrices have a number of symmetries, as described in Antilogus et al. (2014). Use derived classes like <a class="el" href="classgalsim_1_1cdmodel_1_1_power_law_c_d.html" title="Class for parametrizing charge deflection coefficient strengths as a power law in distance from affec...">PowerLawCD</a> to have a model that automatically fulfills the symmetry conditions.</p>
<p>Note that there is a gain factor included in the coefficients. When the a_* are measured from flat fields according to eqn. 4.10 in Antilogus et. al (2014) and applied to images that have the same gain as the flats, the correction is as intended. If the gain in the images is different, this can be accounted for with the gain_ratio parameter when calling applyForward or applyBackward.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_l</td><td>NumPy array containing matrix of deflection coefficients of left pixel border </td></tr>
    <tr><td class="paramname">a_r</td><td>NumPy array containing matrix of deflection coefficients of right pixel border </td></tr>
    <tr><td class="paramname">a_b</td><td>NumPy array containing matrix of deflection coefficients of bottom pixel border </td></tr>
    <tr><td class="paramname">a_t</td><td>NumPy array containing matrix of deflection coefficients of top pixel border </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a983696ce1e877b7d470b13add6f3594e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.cdmodel.BaseCDModel.applyBackward </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gain_ratio</em> = <code>1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the charge deflection model in the backward direction (accurate to linear order). </p>
<p>Returns an image with the backward charge deflection transformation applied. The input image is not modified, but its WCS is included in the returned image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gain_ratio</td><td>Ratio of gain_image/gain_flat when shift coefficients were derived from flat fields; default value is 1., which assumes the common case that your flat and science images have the same gain value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac5fe3336328eb1caf76cd37a45f8db63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.cdmodel.BaseCDModel.applyForward </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gain_ratio</em> = <code>1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the charge deflection model in the forward direction. </p>
<p>Returns an image with the forward charge deflection transformation applied. The input image is not modified, but its WCS is included in the returned image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gain_ratio</td><td>Ratio of gain_image/gain_flat when shift coefficients were derived from flat fields; default value is 1., which assumes the common case that your flat and science images have the same gain value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a28ae951dae9fecbeb5b003ab999010b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.cdmodel.BaseCDModel.a_b</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af1a0703f8228156af4f7d60988d43266"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.cdmodel.BaseCDModel.a_l</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af2a1615e6da5c7bdc1ab9e42d430c383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.cdmodel.BaseCDModel.a_r</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4e311823223f0df22c21c5280598c2ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.cdmodel.BaseCDModel.a_t</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac22008a43af503ec583c89105469ca1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.cdmodel.BaseCDModel.n</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>galsim/<a class="el" href="cdmodel_8py.html">cdmodel.py</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6</small></address>
</body>
</html>
